"use strict";(self.webpackChunkmy_first_app=self.webpackChunkmy_first_app||[]).push([[913],{5305:function(t,i,e){e.r(i),e.d(i,{default:function(){return k}});var a=e(5671),s=e(3144),n=e(136),r=e(8557),o=e(2791),c=e(2426),f=e.n(c),h=e(2312),l=e(495),m=e(5832),d=e(127);var u=e.p+"static/media/onwork.cf82092aa213757d514618161a8d62f6.svg";var p=e.p+"static/media/offwork.2944eac26269b3be9ce324bc665016b0.svg",S=e(184),g="HH : mm : ss",v=function(t){(0,n.Z)(e,t);var i=(0,r.Z)(e);function e(){var t;(0,a.Z)(this,e);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).state={startTime:"08 : 30 : 00",finishTime:"17 : 30 : 00",restTime:"00 : 00 : 00"},t.setNotification=function(t){function i(){new Notification("\u901a\u77e5\u6807\u9898\uff1a",{body:t,icon:"https://pic1.zhuanstatic.com/zhuanzh/50b6ffe4-c7e3-4317-bc59-b2ec4931f325.png"})}"granted"===window.Notification.permission?i():"denied"!==window.Notification.permission&&window.Notification.requestPermission((function(t){i()}))},t.computeRestTime=function(){var i=f()(t.state.startTime,g),e=f()(t.state.finishTime,g),a=f()();if(a>e){var s=Math.abs(i.diff(a,"seconds")%60).toString().padStart(2,"0"),n=Math.abs(i.diff(a,"minutes")%60).toString().padStart(2,"0"),r=Math.abs(i.diff(a,"hours")%24).toString().padStart(2,"0");t.isWork&&(t.setNotification("\u4e0b\u73ed\uff01"),t.isWork=!1),t.setState({restTime:r+" : "+n+" : "+s})}else{var o=Math.abs(e.diff(a,"seconds")%60).toString().padStart(2,"0"),c=Math.abs(e.diff(a,"minutes")%60).toString().padStart(2,"0"),h=Math.abs(e.diff(a,"hours")%24).toString().padStart(2,"0");t.isWork||(t.setNotification("\u4e0a\u73ed\uff01"),t.isWork=!0),t.setState({restTime:h+" : "+c+" : "+o})}t.timerID=setInterval((function(){var a=f()();if(a>e){var s=Math.abs(i.diff(a,"seconds")%60).toString().padStart(2,"0"),n=Math.abs(i.diff(a,"minutes")%60).toString().padStart(2,"0"),r=Math.abs(i.diff(a,"hours")%24).toString().padStart(2,"0");t.isWork&&(t.setNotification("\u4e0b\u73ed\uff01"),t.isWork=!1),t.setState({restTime:r+" : "+n+" : "+s})}else{var o=Math.abs(e.diff(a,"seconds")%60).toString().padStart(2,"0"),c=Math.abs(e.diff(a,"minutes")%60).toString().padStart(2,"0"),h=Math.abs(e.diff(a,"hours")%24).toString().padStart(2,"0");t.isWork||(t.setNotification("\u4e0a\u73ed\uff01"),t.isWork=!0),t.setState({restTime:h+" : "+c+" : "+o})}}),500),console.log("this.timerID",t.timerID)},t.handleSave=function(i){clearInterval(t.timerID),t.computeRestTime()},t.handleCancel=function(){console.log("\u53d6\u6d88")},t.onStartChange=function(i,e){t.setState({startTime:e})},t.onFinishChange=function(i,e){t.setState({finishTime:e})},t.onClickMenu=function(){t.menuShow=!t.menuShow},t}return(0,s.Z)(e,[{key:"componentDidMount",value:function(){this.isWork=f()(this.state.finishTime,g)>f()(),this.computeRestTime()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return(0,S.jsxs)(h.Z,{direction:"vertical",className:"home-wrapper",children:[(0,S.jsxs)("div",{className:"time",children:[this.isWork?(0,S.jsx)("img",{className:"image",src:u,alt:""}):(0,S.jsx)("img",{className:"image",src:p,alt:""}),(0,S.jsx)("span",{className:"text",children:this.state.restTime})]}),this.menuShow&&(0,S.jsxs)("div",{className:"editor",children:[(0,S.jsx)(l.Z,{defaultValue:f()(this.state.startTime,g),format:g,size:"large",allowClear:!0,style:{width:"100%"},onChange:this.onStartChange}),(0,S.jsx)(l.Z,{defaultValue:f()(this.state.finishTime,g),format:g,size:"large",allowClear:!0,style:{width:"100%"},onChange:this.onFinishChange}),(0,S.jsxs)(h.Z,{className:"buttons",children:[(0,S.jsx)(m.Z,{size:"large",onClick:this.handleCancel,children:"\u53d6\u6d88"}),(0,S.jsx)(m.Z,{size:"large",type:"primary",onClick:this.handleSave,children:"\u4fdd\u5b58"})]})]}),(0,S.jsx)(d.Z,{className:"icon-menu",onClick:this.onClickMenu})]})}}]),e}(o.Component),k=function(){return(0,S.jsx)(v,{})}}}]);
//# sourceMappingURL=default.294a7cac.chunk.js.map