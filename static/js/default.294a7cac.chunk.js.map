{"version":3,"file":"static/js/default.294a7cac.chunk.js","mappings":"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","sources":["assets/images/onwork.svg","assets/images/offwork.svg","views/Home/Home.jsx","views/Home/index.js"],"sourcesContent":["var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOnwork(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1663122285601,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 1884,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 64,\n    height: 64,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M535.6544 577.5872a51.7632 51.7632 0 0 0 0 76.7488l169.984 160c8.9088 7.5264 16.3328 11.3152 22.784 11.3152 9.984 0 17.6128-9.984 17.6128-27.6992v-112.0768h250.6752V544.768h-251.904V432.64c0-18.944-7.5264-28.9792-17.664-28.9792-6.2976 0-13.8752 5.0176-22.6816 12.5952l-168.8064 161.3312z m0 0\",\n    fill: \"#ffffff\",\n    \"p-id\": 1885\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M407.7568 332.9536m-222.976 0a222.976 222.976 0 1 0 445.952 0 222.976 222.976 0 1 0-445.952 0Z\",\n    fill: \"#ffffff\",\n    \"p-id\": 1886\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M584.8064 834.3552H463.2576V616.448a372.992 372.992 0 0 0-65.536-5.0688c-205.3632 0-370.3808 137.3696-370.3808 306.1248h686.592v-83.1488h-129.1264z\",\n    fill: \"#ffffff\",\n    \"p-id\": 1887\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOnwork);\nexport default __webpack_public_path__ + \"static/media/onwork.cf82092aa213757d514618161a8d62f6.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOffwork(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1663122300175,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 2140,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 64,\n    height: 64,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M713.4208 832.8192H463.3088V615.424a370.4832 370.4832 0 0 0-65.3824-5.0688c-204.8 0-369.4592 137.0112-369.4592 305.3568h688.6912a90.112 90.112 0 0 1-3.7888-27.5968v-55.296h0.0512zM185.6 332.6464a222.3616 222.3616 0 1 0 444.8256 0 222.4128 222.4128 0 1 0-444.8256 0z m0 0\",\n    fill: \"#ffffff\",\n    \"p-id\": 2141\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M978.5344 669.44l-168.3968-160.8704c-8.8576-7.5264-16.3328-12.5952-22.5792-12.5952-10.0864 0-17.6128 10.0352-17.6128 28.8768v111.872h-251.3408v140.7488h250.112v111.8208c0 17.664 7.4752 27.648 17.5616 27.648 6.2976 0 13.8752-3.6864 22.6304-11.3152l169.6256-159.5904a51.712 51.712 0 0 0 0-76.5952z m0 0\",\n    fill: \"#ffffff\",\n    \"p-id\": 2142\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOffwork);\nexport default __webpack_public_path__ + \"static/media/offwork.2944eac26269b3be9ce324bc665016b0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react'\r\nimport moment from 'moment';\r\nimport { Space, Button, TimePicker } from 'antd'\r\nimport { UnorderedListOutlined } from '@ant-design/icons';\r\nimport '@/assets/scss/view-style/home.scss'\r\nimport onwork from '@/assets/images/onwork.svg'\r\nimport offwork from '@/assets/images/offwork.svg'\r\n\r\n// const onClick = (value) => console.log(value);\r\nconst format = 'HH : mm : ss'\r\n\r\nclass Timer extends Component {\r\n  state = {\r\n    startTime: '08 : 30 : 00', // 上班时间\r\n    finishTime: '17 : 30 : 00', // 下班时间\r\n    restTime: '00 : 00 : 00', // 剩余时间\r\n  }\r\n  componentDidMount() {\r\n    this.isWork = moment(this.state.finishTime, format) > moment() // 初始化上班状态\r\n    this.computeRestTime() // 计算剩余时间\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.timerID)\r\n  }\r\n  // 通知\r\n  setNotification = (text) => {\r\n    function sendNotification() {\r\n      new Notification(\"通知标题：\", {\r\n        body: text,\r\n        icon: 'https://pic1.zhuanstatic.com/zhuanzh/50b6ffe4-c7e3-4317-bc59-b2ec4931f325.png'\r\n      })\r\n    }\r\n    if (window.Notification.permission === \"granted\") { // 判断是否有权限\r\n      sendNotification();\r\n    } else if (window.Notification.permission !== \"denied\") {\r\n      window.Notification.requestPermission(function (permission) { // 没有权限发起请求\r\n        sendNotification();\r\n      });\r\n    }\r\n  }\r\n  // 计算剩余时间\r\n  computeRestTime = () => {\r\n    let start = moment(this.state.startTime, format),\r\n      finish = moment(this.state.finishTime, format),\r\n      current = moment()\r\n    if (current > finish) {\r\n      // 已下班\r\n      let second = Math.abs(start.diff(current, 'seconds') % 60).toString().padStart(2, '0'),\r\n        minute = Math.abs(start.diff(current, 'minutes') % 60).toString().padStart(2, '0'),\r\n        hour = Math.abs(start.diff(current, 'hours') % 24).toString().padStart(2, '0')\r\n\r\n      if (this.isWork) {\r\n        this.setNotification('下班！') // 通知\r\n        this.isWork = false\r\n      }\r\n      this.setState({\r\n        restTime: hour + ' : ' + minute + ' : ' + second\r\n      })\r\n    } else {\r\n      let second = Math.abs(finish.diff(current, 'seconds') % 60).toString().padStart(2, '0'),\r\n        minute = Math.abs(finish.diff(current, 'minutes') % 60).toString().padStart(2, '0'),\r\n        hour = Math.abs(finish.diff(current, 'hours') % 24).toString().padStart(2, '0')\r\n      if (!this.isWork) {\r\n        this.setNotification('上班！') // 通知\r\n        this.isWork = true\r\n      }\r\n      this.setState({\r\n        restTime: hour + ' : ' + minute + ' : ' + second\r\n      })\r\n    }\r\n    this.timerID = setInterval(() => {\r\n      let current = moment()\r\n      if (current > finish) {\r\n        // 已下班\r\n        let second = Math.abs(start.diff(current, 'seconds') % 60).toString().padStart(2, '0'),\r\n          minute = Math.abs(start.diff(current, 'minutes') % 60).toString().padStart(2, '0'),\r\n          hour = Math.abs(start.diff(current, 'hours') % 24).toString().padStart(2, '0')\r\n\r\n        if (this.isWork) {\r\n          this.setNotification('下班！') // 通知\r\n          this.isWork = false\r\n        }\r\n        this.setState({\r\n          restTime: hour + ' : ' + minute + ' : ' + second\r\n        })\r\n      } else {\r\n        let second = Math.abs(finish.diff(current, 'seconds') % 60).toString().padStart(2, '0'),\r\n          minute = Math.abs(finish.diff(current, 'minutes') % 60).toString().padStart(2, '0'),\r\n          hour = Math.abs(finish.diff(current, 'hours') % 24).toString().padStart(2, '0')\r\n        if (!this.isWork) {\r\n          this.setNotification('上班！') // 通知\r\n          this.isWork = true\r\n        }\r\n        this.setState({\r\n          restTime: hour + ' : ' + minute + ' : ' + second\r\n        })\r\n      }\r\n    }, 500)\r\n    console.log('this.timerID', this.timerID);\r\n  }\r\n  // 保存\r\n  handleSave = (val) => {\r\n    clearInterval(this.timerID)\r\n    this.computeRestTime()\r\n  }\r\n  // 取消\r\n  handleCancel = () => {\r\n    console.log('取消',);\r\n  }\r\n  onStartChange = (time, timeString) => {\r\n    this.setState({\r\n      startTime: timeString\r\n    })\r\n  }\r\n  onFinishChange = (time, timeString) => {\r\n    this.setState({\r\n      finishTime: timeString\r\n    })\r\n  }\r\n  onClickMenu = () => {\r\n    this.menuShow = !this.menuShow\r\n  }\r\n  render() {\r\n    return (\r\n      <Space direction=\"vertical\" className='home-wrapper'>\r\n        <div className=\"time\">\r\n          {this.isWork ?\r\n            <img className='image' src={onwork} alt='' /> :\r\n            <img className='image' src={offwork} alt='' />\r\n          }\r\n          <span className='text'>\r\n            {this.state.restTime}\r\n          </span>\r\n        </div>\r\n        {this.menuShow && <div className=\"editor\">\r\n          <TimePicker defaultValue={moment(this.state.startTime, format)} format={format} size=\"large\" allowClear style={{ width: '100%' }} onChange={this.onStartChange} />\r\n          <TimePicker defaultValue={moment(this.state.finishTime, format)} format={format} size=\"large\" allowClear style={{ width: '100%' }} onChange={this.onFinishChange} />\r\n          <Space className='buttons'>\r\n            <Button size=\"large\" onClick={this.handleCancel}>取消</Button>\r\n            <Button size=\"large\" type=\"primary\" onClick={this.handleSave}>保存</Button>\r\n          </Space>\r\n        </div>}\r\n        <UnorderedListOutlined className='icon-menu' onClick={this.onClickMenu} />\r\n      </Space>\r\n    )\r\n  }\r\n}\r\n\r\nconst HomeView = () => <Timer />\r\nexport default HomeView\r\n","import HomeView from './Home.jsx'\r\n\r\nexport default HomeView\r\n"],"names":["format","Timer","state","startTime","finishTime","restTime","setNotification","text","sendNotification","Notification","body","icon","window","permission","requestPermission","computeRestTime","start","moment","finish","current","second","Math","abs","diff","toString","padStart","minute","hour","isWork","setState","timerID","setInterval","console","log","handleSave","val","clearInterval","handleCancel","onStartChange","time","timeString","onFinishChange","onClickMenu","menuShow","this","direction","className","src","onwork","alt","offwork","defaultValue","size","allowClear","style","width","onChange","onClick","type","UnorderedListOutlined","Component"],"sourceRoot":""}