{"version":3,"file":"static/js/default.d2ea5f34.chunk.js","mappings":"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","sources":["assets/images/work.svg","assets/images/onwork.svg","assets/images/offwork.svg","views/Home/Home.jsx","views/Home/index.js"],"sourcesContent":["var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWork(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1663741256814,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 1793,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 64,\n    height: 64,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M756.1728 547.072a209.92 209.92 0 1 0 0 419.84 209.92 209.92 0 0 0 0-419.84z m129.6896 234.5984a34.9696 34.9696 0 0 1-24.7296 10.24h-104.96a35.1232 35.1232 0 0 1-34.9696-34.9696v-139.9296c0-19.2512 15.7696-34.9696 34.9696-34.9696 9.6768 0 18.3808 3.8912 24.6784 10.24a34.816 34.816 0 0 1 10.2912 24.6784v104.96h69.9392a35.1232 35.1232 0 0 1 24.7808 59.7504z m0 0M261.3248 292.4032a235.2128 235.2128 0 1 0 470.6304 0 235.3152 235.3152 0 0 0-470.6304 0z m0 0\",\n    fill: \"#ffffff\",\n    \"p-id\": 1794\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M498.2272 865.9968c10.0864 23.808 23.296 45.8752 39.3216 65.8432H90.0096a33.4848 33.4848 0 0 1-33.536-32.256v-3.9424a437.248 437.248 0 0 1 193.3824-353.8432 67.7376 67.7376 0 0 1 75.9808 0.4096 299.52 299.52 0 0 0 203.264 51.0976 278.8352 278.8352 0 0 0-52.8384 163.6352c0.0512 37.8368 7.4752 74.3936 21.9648 109.056z m0 0\",\n    fill: \"#ffffff\",\n    \"p-id\": 1795\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWork);\nexport default __webpack_public_path__ + \"static/media/work.825e9dce55f48ee45eb4647eabc542c8.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOnwork(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1663122285601,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 1884,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 64,\n    height: 64,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M535.6544 577.5872a51.7632 51.7632 0 0 0 0 76.7488l169.984 160c8.9088 7.5264 16.3328 11.3152 22.784 11.3152 9.984 0 17.6128-9.984 17.6128-27.6992v-112.0768h250.6752V544.768h-251.904V432.64c0-18.944-7.5264-28.9792-17.664-28.9792-6.2976 0-13.8752 5.0176-22.6816 12.5952l-168.8064 161.3312z m0 0\",\n    fill: \"#ffffff\",\n    \"p-id\": 1885\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M407.7568 332.9536m-222.976 0a222.976 222.976 0 1 0 445.952 0 222.976 222.976 0 1 0-445.952 0Z\",\n    fill: \"#ffffff\",\n    \"p-id\": 1886\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M584.8064 834.3552H463.2576V616.448a372.992 372.992 0 0 0-65.536-5.0688c-205.3632 0-370.3808 137.3696-370.3808 306.1248h686.592v-83.1488h-129.1264z\",\n    fill: \"#ffffff\",\n    \"p-id\": 1887\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOnwork);\nexport default __webpack_public_path__ + \"static/media/onwork.cf82092aa213757d514618161a8d62f6.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOffwork(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1663122300175,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 2140,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 64,\n    height: 64,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M713.4208 832.8192H463.3088V615.424a370.4832 370.4832 0 0 0-65.3824-5.0688c-204.8 0-369.4592 137.0112-369.4592 305.3568h688.6912a90.112 90.112 0 0 1-3.7888-27.5968v-55.296h0.0512zM185.6 332.6464a222.3616 222.3616 0 1 0 444.8256 0 222.4128 222.4128 0 1 0-444.8256 0z m0 0\",\n    fill: \"#ffffff\",\n    \"p-id\": 2141\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M978.5344 669.44l-168.3968-160.8704c-8.8576-7.5264-16.3328-12.5952-22.5792-12.5952-10.0864 0-17.6128 10.0352-17.6128 28.8768v111.872h-251.3408v140.7488h250.112v111.8208c0 17.664 7.4752 27.648 17.5616 27.648 6.2976 0 13.8752-3.6864 22.6304-11.3152l169.6256-159.5904a51.712 51.712 0 0 0 0-76.5952z m0 0\",\n    fill: \"#ffffff\",\n    \"p-id\": 2142\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOffwork);\nexport default __webpack_public_path__ + \"static/media/offwork.2944eac26269b3be9ce324bc665016b0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react'\r\nimport moment from 'moment';\r\nimport { Space, Button, TimePicker, message } from 'antd'\r\nimport { UnorderedListOutlined } from '@ant-design/icons';\r\nimport '@/assets/scss/view-style/home.scss'\r\nimport work from '@/assets/images/work.svg'\r\nimport onwork from '@/assets/images/onwork.svg'\r\nimport offwork from '@/assets/images/offwork.svg'\r\n\r\n// const onClick = (value) => console.log(value);\r\nconst format = 'HH : mm : ss'\r\nconst isPhone = /Mobi|Android|iPhone/i.test(navigator.userAgent) // 当前设备是移动设备\r\n\r\nconst setStore = (start, end, color) => {\r\n  localStorage.setItem('time', JSON.stringify({ start, end, color }));//转换成json字符串序列\r\n}\r\nconst getStore = () => {\r\n  let val = localStorage.getItem('time');//获取存储的元素\r\n  return val ? JSON.parse(val) : false\r\n}\r\nclass Timer extends Component {\r\n  state = {\r\n    startTime: getStore().start || '08 : 30 : 00', // 上班时间\r\n    endTime: getStore().end || '17 : 30 : 00', // 下班时间\r\n    restTime: '00 : 00 : 00', // 剩余时间\r\n    status: '', // 状态\r\n    pageColor: getStore().color || 'grey',\r\n  }\r\n  // 生命周期componentWillMount\r\n  componentWillMount() {\r\n  }\r\n  // 生命周期componentDidMount\r\n  componentDidMount() {\r\n    this.setTimer() // 计算剩余时间\r\n  }\r\n  // 生命周期componentWillUnmount\r\n  componentWillUnmount() {\r\n    clearInterval(this.timerID)\r\n  }\r\n  // 改变状态\r\n  setStatus = (val) => {\r\n    this.setState({\r\n      status: val\r\n    })\r\n  }\r\n  // 配置通知内容\r\n  setNotification = (title, text) => {\r\n    const sendNotification = () => { // 发送通知\r\n      new Notification(title, {\r\n        body: text,\r\n        icon: require('@/assets/images/web-title.jpg')\r\n      })\r\n    }\r\n    if (window.Notification.permission === \"granted\") { // 判断是否有权限\r\n      sendNotification();\r\n    } else if (window.Notification.permission !== \"denied\") {\r\n      window.Notification.requestPermission((permission) => { // 没有权限发起请求\r\n        sendNotification();\r\n      });\r\n    }\r\n  }\r\n  // 获取时间差\r\n  getTimeDiff = (start, end) => {\r\n    let second = Math.abs(start.diff(end, 'seconds') % 60).toString().padStart(2, '0'),\r\n      minute = Math.abs(start.diff(end, 'minutes') % 60).toString().padStart(2, '0'),\r\n      hour = Math.abs(start.diff(end, 'hours') % 24).toString().padStart(2, '0')\r\n    return hour + ' : ' + minute + ' : ' + second\r\n  }\r\n  // 配置剩余时间与通知关系\r\n  computeRestTime = () => {\r\n    let start = moment(this.state.startTime, format),\r\n      finish = moment(this.state.endTime, format),\r\n      current = moment()\r\n    if (current >= finish) {\r\n      // 已下班\r\n      this.setState({\r\n        restTime: this.getTimeDiff(finish, current)\r\n      })\r\n      if (this.state.status === '1') {\r\n        this.setNotification('重要通知：', '下班啦！') // 通知\r\n        this.setStatus('2')\r\n        return\r\n      }\r\n    } else if (current < start) {\r\n      // 未上班\r\n      this.setState({\r\n        restTime: this.getTimeDiff(start, current)\r\n      })\r\n      if (this.status === '2') {\r\n        this.setNotification('重要通知：', '新的一天开始了！') // 通知\r\n        this.setStatus('0')\r\n        return\r\n      }\r\n    } else if (current >= start && current < finish) {\r\n      // 上班中\r\n      this.setState({\r\n        restTime: this.getTimeDiff(finish, current)\r\n      })\r\n      if (this.status === '0') {\r\n        this.setNotification('重要通知：', '开始搬砖！') // 通知\r\n        this.setStatus('1')\r\n        return\r\n      }\r\n    }\r\n  }\r\n  // 计算剩余时间\r\n  setTimer = () => {\r\n    this.initStatus() // 初始化上班状态\r\n    this.computeRestTime() // 处理定时任务\r\n    this.timerID = setInterval(this.computeRestTime, 500)\r\n  }\r\n  // 初始化上班状态\r\n  initStatus() {\r\n    let start = moment(this.state.startTime, format),\r\n      finish = moment(this.state.endTime, format),\r\n      current = moment()\r\n    if (current >= finish) {\r\n      this.setNotification('现在状态：', '已下班！')\r\n      this.setStatus('2')\r\n    } else if (current < start) {\r\n      this.setNotification('现在状态：', '尚未上班！')\r\n      this.setStatus('0')\r\n    } else if (current >= start && current < finish) {\r\n      this.setNotification('现在状态：', '正在上班！')\r\n      this.setStatus('1')\r\n    }\r\n  }\r\n  // 保存\r\n  handleSave = (val) => {\r\n    clearInterval(this.timerID)\r\n    this.setTimer()\r\n    setStore(this.state.startTime, this.state.endTime, this.state.pageColor)\r\n    // setColor(this.state.pageColor)\r\n    message.success('时间保存成功！');\r\n  }\r\n  // 取消\r\n  handleCancel = () => {\r\n    this.menuShow = false\r\n  }\r\n  // 改变开始时间\r\n  onStartChange = (time, timeString) => {\r\n    this.setState({\r\n      startTime: timeString\r\n    })\r\n  }\r\n  // 改变结束时节\r\n  onFinishChange = (time, timeString) => {\r\n    this.setState({\r\n      endTime: timeString\r\n    })\r\n  }\r\n  // 点击菜单按钮\r\n  onClickMenu = () => {\r\n    this.menuShow = !this.menuShow\r\n  }\r\n  setPageColor = (val) => {\r\n    this.setState({\r\n      pageColor: val\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <Space direction=\"vertical\" className={(isPhone ? 'home-wrapper is-phone' : 'home-wrapper') + ' ' + this.state.pageColor}>\r\n        <div className=\"time\">\r\n          {this.state.status === '0' ?\r\n            <img className='image' src={onwork} alt='尚未上班' title='尚未上班！' /> :\r\n            this.state.status === '1' ?\r\n              <img className='image' src={work} alt='正在搬砖' title='正在搬砖！' /> :\r\n              this.state.status === '2' ?\r\n                <img className='image' src={offwork} alt='下班啦' title='下班啦！' />\r\n                : <img className='image' src={work} alt='正在搬砖' title='正在搬砖！' />\r\n          }\r\n          <span className='text'>\r\n            {this.state.restTime}\r\n          </span>\r\n        </div>\r\n        {this.menuShow &&\r\n          <div className=\"editor\">\r\n            <TimePicker className='round' defaultValue={moment(this.state.startTime, format)} format={format} allowClear={false} size=\"large\" style={{ width: '100%' }} onChange={this.onStartChange} />\r\n            <TimePicker className='round' defaultValue={moment(this.state.endTime, format)} format={format} allowClear={false} size=\"large\" style={{ width: '100%', marginTop: '1vh' }} onChange={this.onFinishChange} />\r\n            <Space className='buttons'>\r\n              <Button className='round' size=\"large\" onClick={this.handleCancel}>关闭</Button>\r\n              <Button className='round' size=\"large\" type=\"primary\" onClick={this.handleSave}>保存</Button>\r\n            </Space>\r\n          </div>\r\n        }\r\n        {this.menuShow && <div className='icon-color green' onClick={() => this.setPageColor('green')}></div>}\r\n        {this.menuShow && <div className='icon-color grey' onClick={() => this.setPageColor('grey')}></div>}\r\n\r\n        <UnorderedListOutlined className='icon-menu' onClick={this.onClickMenu} />\r\n      </Space>\r\n    )\r\n  }\r\n}\r\n\r\nconst HomeView = () => <Timer />\r\nexport default HomeView\r\n","import HomeView from './Home.jsx'\r\n\r\nexport default HomeView\r\n"],"names":["format","isPhone","test","navigator","userAgent","setStore","start","end","color","localStorage","setItem","JSON","stringify","getStore","val","getItem","parse","Timer","state","startTime","endTime","restTime","status","pageColor","setStatus","setState","setNotification","title","text","sendNotification","Notification","body","icon","require","window","permission","requestPermission","getTimeDiff","second","Math","abs","diff","toString","padStart","minute","computeRestTime","moment","finish","current","setTimer","initStatus","timerID","setInterval","handleSave","clearInterval","message","handleCancel","menuShow","onStartChange","time","timeString","onFinishChange","onClickMenu","setPageColor","this","direction","className","src","onwork","alt","work","offwork","defaultValue","allowClear","size","style","width","onChange","marginTop","onClick","type","UnorderedListOutlined","Component"],"sourceRoot":""}